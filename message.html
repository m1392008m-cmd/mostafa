<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰</title>
<style>
body{ margin:0; font-family:tahoma; text-align:center; color:white; background:radial-gradient(circle,#ff4fa3,#800040,#400020); overflow:hidden; height: 100vh; display: flex; align-items: center; justify-content: center; }
button{ padding:12px 20px; border:none; border-radius:25px; background:white; color:#800040; font-weight:bold; cursor:pointer; }
#main,#ready,#passBox{ padding:20px; z-index: 10; position: relative; }
#main { display:none; } #ready { display:none; }
#msg{ font-size:22px; margin:20px; min-height:70px; line-height: 1.6; }
.water{ position:fixed; bottom:10px; right:10px; opacity:.3; font-size:14px; }
.heart{ position:absolute; font-size:20px; animation:up 6s linear infinite; pointer-events: none; }
@keyframes up{ from{transform:translateY(100vh)} to{transform:translateY(-10vh)} }
.word{ position:fixed; font-size:18px; animation:fade 4s linear infinite; pointer-events: none; }
@keyframes fade{ 0%{opacity:0;transform:translateY(20px)} 50%{opacity:1} 100%{opacity:0;transform:translateY(-20px)} }
.star{ position:fixed; width:3px;height:3px; background:white; animation:blink 2s infinite alternate; }
@keyframes blink{ from{opacity:.2} to{opacity:1} }
img{ max-width:220px; border-radius:15px; box-shadow:0 0 20px white; animation:pop 1s ease; margin-top: 10px; }
@keyframes pop{ from{transform:scale(0)} to{transform:scale(1)} }

/* Ø´ÙƒÙ„ Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„ÙƒØ¨ÙŠØ± Ø­ÙˆÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± */
.big-heart-container { font-size: 200px; color: #ff4d6d; position: relative; }
.inner-form { position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%); font-size: 16px; color: white; width: 100%; }
.inner-form input { padding: 8px; border-radius: 10px; border: none; width: 120px; text-align: center; }
</style>
</head>
<body>

<div id="passBox">
    <div class="big-heart-container">
        â¤ï¸
        <div class="inner-form">
            <p style="font-size: 18px; font-weight: bold; margin: 5px;">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ÙŠØ§ Ø¬Ù…ÙŠÙ„</p>
            <input type="password" id="p"><br><br>
            <button onclick="check()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>
</div>

<div id="ready">
    <h2>Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰ØŸ ğŸ˜</h2>
    <button onclick="openLove()">Ø§ÙØªØ­ Ø§Ù„Ø¢Ù† âœ¨</button>
</div>

<div id="main">
    <h2 id="title"></h2>
    <div id="days" style="font-size: 20px; color: #ffeb3b;"></div>
    <div id="msg"></div>
    <img id="photo" style="display:none;"><br><br>
    <audio id="audio" autoplay></audio>
</div>

<div class="water" id="water"></div>

<script>
let q = new URLSearchParams(location.search);
let realPass = q.get("pass");

function check(){
    let inputP = document.getElementById('p').value;
    if(inputP == realPass){
        document.getElementById('passBox').style.display = "none";
        document.getElementById('ready').style.display = "block";
    } else {
        alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙ„Ø· ÙŠØ§ Ø³ÙƒØ± ğŸ˜¢");
    }
}

function openLove(){
    document.getElementById('ready').style.display = "none";
    document.getElementById('main').style.display = "block";

    let from = q.get("from") || "Ù…Ø¬Ù‡ÙˆÙ„";
    let to = q.get("to") || "Ø­Ø¨ÙŠØ¨ÙŠ";
    let type = q.get("type") || "Ø­Ø¨";
    let date = q.get("date");
    let music = q.get("music");
    let img = q.get("img");

    document.getElementById('water').innerText = "From " + from;

    if(date){
        let d1 = new Date(date);
        let d2 = new Date();
        let diff = Math.floor((d2 - d1) / (1000 * 60 * 60 * 24));
        document.getElementById('days').innerHTML = "Ø¨Ù‚Ø§Ù„Ù†Ø§ Ù…Ø¹ Ø¨Ø¹Ø¶ " + diff + " ÙŠÙˆÙ… â¤ï¸";
    }

    let text = `Ø¥Ù„Ù‰ ${to}.. \n ${type} \n Ù…Ù† Ø­Ø¨ÙŠØ¨ÙŠ ${from} â¤ï¸`;
    let i = 0;
    let target = document.getElementById('msg');
    let inter = setInterval(() => {
        target.innerHTML += text[i] === '\n' ? '<br>' : text[i];
        i++;
        if(i >= text.length) clearInterval(inter);
    }, 80);

    if(img) {
        let p = document.getElementById('photo');
        p.src = img;
        p.style.display = "inline-block";
    }
    if(music) {
        let a = document.getElementById('audio');
        a.src = music;
        a.play().catch(() => console.log("Auto-play blocked"));
    }
}

// ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚Ù„ÙˆØ¨ ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªØ·Ø§ÙŠØ±Ø©
let arr = ["ğŸ˜","ğŸ¥°","â¤ï¸","ğŸ˜˜","ğŸ’˜","ğŸ’","ğŸ’–","ğŸ’—","ğŸ’“","ğŸ’","ğŸ’•","ğŸ’‹"];
setInterval(() => {
    let h = document.createElement("div");
    h.className = "heart";
    h.style.left = Math.random() * 100 + "vw";
    h.innerText = arr[Math.floor(Math.random() * arr.length)];
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 6000);
}, 300);

setInterval(() => {
    let w = document.createElement("div");
    w.className = "word";
    w.style.left = Math.random() * 100 + "vw";
    w.style.top = Math.random() * 100 + "vh";
    w.innerText = Math.random() > 0.5 ? "ğŸ¥° Ø¨Ø¹Ø´Ù‚Ùƒ ğŸ¥°" : "ğŸ˜ Ø¨Ø­Ø¨Ùƒ ğŸ˜";
    document.body.appendChild(w);
    setTimeout(() => w.remove(), 4000);
}, 700);

for(let i=0; i<40; i++){
    let s = document.createElement("div");
    s.className = "star";
    s.style.left = Math.random() * 100 + "vw";
    s.style.top = Math.random() * 100 + "vh";
    document.body.appendChild(s);
}
</script>
</body>
</html>
